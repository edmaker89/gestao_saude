<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.2/css/bulma.min.css" />
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/logo2.png') }}" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>LOGIN - CONECTA+</title>
    <style>
      body{
        background-image: url("{{url_for('static', filename='img/45184589_9150533.jpg')}}");
      }
      .login-box {
        width: 900px;
        height: 600px;
      }
      @media (max-width: 800px) {
        .login-box {
          display: flex;
          flex-direction: column;
          width: 80%;
          height: auto;
        }
        .column.is-half.custom-border-radius-left {  
          width: 100%; /* Faz a div ocupar 100% da largura */  
          display: flex;
          flex-direction: column;  
          justify-content: center; /* Centraliza o conteúdo horizontalmente */  
          align-items: center; /* Centraliza o conteúdo verticalmente */  
        }
      }
    </style>
  </head>
  <body class="is-flex is-justify-content-center is-align-items-center">
    <div id="notification-area">
      {% include "components/notification.html" %}
    </div>
    <div class="login-box box columns p-0">
      <div class="column is-half custom-border-radius-left" style="background-color: #12073d;">
        <img class="pt-5" src="{{ url_for('static', filename='img/logo base.png') }}" alt="logo base" />
        <div class="has-text-centered">
            <a class="button is-outlined" href="">Cadastre-se</a>
        </div>
      </div>
      <div class="column custom-border-radius-right p-6">
        
        <h2 class="title has-text-centered">LOGIN</h2>
        <form class="form-login" method="POST" action="{{ url_for('auth.autenticar') }}">
          <input type="hidden" name="proxima" value="{{ proxima }}" />
          {{ form.csrf_token }}
          <div class="field">
            <label for="" class="label">Usuario:</label>
            <div class="control has-icons-left">
              {{ form.username(class='input') }}
              <span class="icon is-small is-left"><i class="fas fa-user"></i></span>
            </div>
          </div>
          <div class="field">
            <label for="" class="label">Senha:</label>
            <div class="control has-icons-left">
              {{ form.password(class='input', id='pass') }}
              <span class="icon is-small is-left"><i class="fa-solid fa-lock"></i></span>
            </div>
          </div>
          <div class="columns">
            <div class="column">
              <div class="field">
                <div class="control">
                  <label class="checkbox"><input type="checkbox" id="mostrarSenha" /> Mostrar Senha</label>
                </div>
              </div>
            </div>
            <div class="column is-flex is-justify-content-flex-end has-text-right">
              <p>
                <a onclick="openModal()">Esqueceu a senha?</a>
              </p>
            </div>
          </div>

          {{ form.submit(class='button is-fullwidth is-primary') }}
        </form>
        <hr />
        <p class="has-text-centered mt-5 pt-5 has-text-grey-light">
            CONECTA+ 2.0.0 <br></br>
            Todos direitos reservados - 2023₢ - edmaker.dev.br <br />
        </p>
      </div>
    </div>

    <script>
      // Mostrar ou ocultar senha ao marcar/desmarcar o checkbox
      document.getElementById('mostrarSenha').addEventListener('change', function () {
        var senhaInputs = document.querySelectorAll('#pass')
        senhaInputs.forEach(function (input) {
          input.type = this.checked ? 'text' : 'password'
        }, this)
      })
    </script>
    {% include 'components/modals/solicitar_redifinir_senha.html' %}
  </body>
</html>
